window.django_select2||(window.django_select2={MULTISEPARATOR:String.fromCharCode(31),get_url_params:function(t,e,n){var r=jQuery(this).data("field_id"),a=jQuery(this).data("related_id"),i={term:t,page:e,context:n};return r&&(i.field_id=r),a&&(i.related_id=a),i},process_results:function(t,e,n){var r;return t.err&&"nil"===t.err.toLowerCase()?(r={results:t.results},n&&(r.context=n),(t.more===!0||t.more===!1)&&(r.more=t.more)):r={results:[]},r.results?jQuery(this).data("results",r.results):jQuery(this).removeData("results"),r},onValChange:function(){django_select2.updateText(jQuery(this))},prepareValText:function(t,e,n){var r=[];return jQuery(t).each(function(t){r.push({id:this,text:e[t]})}),n?r:r.length>0?r[0]:null},updateText:function(t){var e=t.select2("val"),n=t.select2("data"),r=t.txt(),a=!!t.attr("multiple");e||0===e?(a?e.length!==r.length&&(r=[],jQuery(e).each(function(){var t,e,a=this;for(t in n)e=n[t].id,e instanceof String&&(e=e.valueOf()),e==a&&r.push(n[t].text)})):r=n.text,t.txt(r)):t.txt("")},getValText:function(t){{var e,n=t.select2("val"),r=t.data("results"),a=t.txt(),i=!!t.attr("multiple");t.attr("id")}if(n||0===n){if(i||(n=[n],(a||0===a)&&(a=[a])),0===a||a&&n.length===a.length)return[n,a];if(e=t.data("userGetValText"),e&&(a=e(t,n,i),a||0===a))return[n,a];if(r&&(a=[],jQuery(n).each(function(t){var e,i=this;for(e in r)r[e].id==i&&(n[t]=r[e].id,a.push(r[e].text))}),a||0===a))return[n,a]}return null},onInit:function(t,e){t=jQuery(t);var n=(t.attr("id"),null),r=t.select2("val");r||0===r||(r=t.data("initVal")),(r||0===r)&&(n=django_select2.getValText(t),n&&n[0]&&(n=django_select2.prepareValText(n[0],n[1],!!t.attr("multiple")))),n||t.val(null),e(n),django_select2.updateText(t)},createSearchChoice:function(t,e){return e&&0!==jQuery(e).filter(function(){return 0===this.text.localeCompare(t)}).length?void 0:{id:t,text:t}},onMultipleHiddenChange:function(){var t=jQuery(this),e=t.data("valContainer"),n=t.data("name"),r=t.val();e.empty(),r&&(r=r.split(django_select2.MULTISEPARATOR),jQuery(r).each(function(){var t=jQuery('<input type="hidden">').appendTo(e);t.attr("name",n),t.val(this)}))},initMultipleHidden:function(t){var e;t.data("name",t.attr("name")),t.attr("name",""),e=jQuery("<div>").insertAfter(t).css({display:"none"}),t.data("valContainer",e),t.change(django_select2.onMultipleHiddenChange),t.val()&&t.change()},convertArrToStr:function(t){return t.join(django_select2.MULTISEPARATOR)},runInContextHelper:function(t,e){return function(){var n=Array.prototype.slice.call(arguments,0);return t.apply(jQuery("#"+e).get(0),n)}},logErr:function(){console&&console.error&&(args=Array.prototype.slice.call(arguments),console.error.apply(console,args))}},function(t){if(t)for(var e in django_select2){var n=django_select2[e];"function"==typeof n&&(django_select2[e]=function(t,e){return function(){return console.log("Function "+t+" called for object: ",this),e.apply(this,arguments)}}(e,n))}}(!1),function(t){t.fn.txt=function(t){return"undefined"!=typeof t?(t?(t instanceof Array&&(t=this.attr("multiple")?django_select2.convertArrToStr(t):t[0]),this.attr("txt",t)):this.removeAttr("txt"),this):(t=this.attr("txt"),this.attr("multiple")&&(t=t?t.split(django_select2.MULTISEPARATOR):[]),t)}}(jQuery));